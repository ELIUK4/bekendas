2025-02-16 20:55:44 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 20:55:44 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 12788 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 20:55:44 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 20:55:44 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 20:55:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 20:55:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 20:55:45 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'filterChain' defined in class path resource [com/galerija/security/WebSecurityConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=webSecurityConfig; factoryMethodName=filterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/galerija/security/WebSecurityConfig.class]] for bean 'filterChain' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=filterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/galerija/security/SecurityConfig.class]] bound.
2025-02-16 20:55:45 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-16 20:55:45 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'filterChain', defined in class path resource [com/galerija/security/WebSecurityConfig.class], could not be registered. A bean with that name has already been defined in class path resource [com/galerija/security/SecurityConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-02-16 20:56:44 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 20:56:44 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 33936 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 20:56:44 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 20:56:44 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 20:56:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 20:56:44 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 20:56:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 7 JPA repository interfaces.
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 20:56:44 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 20:56:45 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@6232ffdb]
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 20:56:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 20:56:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 20:56:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 20:56:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 20:56:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 20:56:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1252 ms
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 20:56:45 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 20:56:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 20:56:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 20:56:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 20:56:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 20:56:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 20:56:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56d822dc
2025-02-16 20:56:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 20:56:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 20:56:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2a425cf5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@17d76ebb)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@40b31a16) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@25fa6889)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1de73d37) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@31693a86)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@69d2e517) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1f9a7684)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3b30eec5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@43755e2f)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3d71e10b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@71139e77)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4de91056) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2404abe2)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@16cf7fd0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7bc2bb58)
2025-02-16 20:56:46 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e2c6fd6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7ff6804a)
2025-02-16 20:56:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 20:56:46 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 20:56:46 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 20:56:46 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 20:56:46 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 20:56:47 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 20:56:47 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_770`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_770`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_770`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 20:56:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 20:56:47 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 20:56:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByPrivacy
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacy
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 20:56:47 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 20:56:47 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 20:56:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 31 mappings in 'requestMappingHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewControllerHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'routerFunctionMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'messageConverters'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'stringHttpMessageConverter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'stringHttpMessageConverter' via factory method to bean named 'environment'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mappingJackson2HttpMessageConverter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mappingJackson2HttpMessageConverter' via factory method to bean named 'jacksonObjectMapper'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'resourceHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 20:56:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /api/images/uploads/**] in 'resourceHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultServletHandlerMapping'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'filterChain'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'filterChain' via factory method to bean named 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity'
2025-02-16 20:56:48 [main] INFO  c.g.security.WebSecurityConfig - Configuring security filter chain
2025-02-16 20:56:48 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@311d8595, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@688c914e, org.springframework.security.web.context.SecurityContextHolderFilter@6e211727, org.springframework.security.web.header.HeaderWriterFilter@7db72209, org.springframework.web.filter.CorsFilter@6f05d5f2, org.springframework.security.web.authentication.logout.LogoutFilter@4f3d49e4, com.galerija.security.jwt.AuthTokenFilter@41e43885, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72a1ccad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@420849f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3acae925, org.springframework.security.web.session.SessionManagementFilter@19158d56, org.springframework.security.web.access.ExceptionTranslationFilter@2ca2fcb5, org.springframework.security.web.access.intercept.AuthorizationFilter@2b35976a]
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'delegatingApplicationListener'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityFilterChain'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityExpressionHandler'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'privilegeEvaluator'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestDataValueProcessor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationMethodInterceptor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationMethodInterceptor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationMethodInterceptor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationMethodInterceptor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskExecutorBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskExecutorBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration' via constructor to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskExecutorBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultValidator'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'defaultValidator' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'error'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameViewResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conventionErrorViewResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorAttributes'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'basicErrorController'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'basicErrorController' via factory method to bean named 'errorAttributes'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'themeResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'flashMapManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcValidator'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPatternParser'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUrlPathHelper'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPathMatcher'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerAdapter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcValidator'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortCustomizer'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration' via constructor to bean named 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableCustomizer'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationTaskExecutor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'applicationTaskExecutor' via factory method to bean named 'taskExecutorBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2025-02-16 20:56:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerFunctionAdapter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUriComponentsContributor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'mvcConversionService'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'requestMappingHandlerAdapter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpRequestHandlerAdapter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleControllerHandlerAdapter'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerExceptionResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'handlerExceptionResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 20:56:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcViewResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcViewResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewNameTranslator'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultViewResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewResolver' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationAvailability'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari' via constructor to bean named 'dataSource'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'platformTransactionManagerCustomizers'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionExecutionListeners'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$PersistenceManagedTypesConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'lifecycleProcessor'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'lifecycleProcessor' via factory method to bean named 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.util.JpaMetamodelCacheCleanup'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'data-jpa.repository-aot-processor#0'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.ProjectingArgumentResolverRegistrar'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'offsetResolver'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration' via constructor to bean named 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcTemplate'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'dataSource'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'namedParameterJdbcTemplate'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'namedParameterJdbcTemplate' via factory method to bean named 'jdbcTemplate'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcClient'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcClient' via factory method to bean named 'namedParameterJdbcTemplate'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskSchedulerBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskSchedulerBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration' via constructor to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskSchedulerBuilder'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTemplate'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionTemplate' via factory method to bean named 'transactionManager'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpMessageConvertersRestClientCustomizer'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientSsl'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'restClientSsl' via factory method to bean named 'sslBundleRegistry'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientBuilderConfigurer'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration'
2025-02-16 20:56:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartResolver'
2025-02-16 20:56:48 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-02-16 20:56:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-02-16 20:56:48 [main] INFO  com.galerija.GalerijaApplication - Started GalerijaApplication in 4.755 seconds (process running for 5.016)
2025-02-16 20:56:48 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@349818946 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-02-16 20:56:48 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@349818946 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 20:56:48 [main] INFO  com.galerija.config.DataInitializer - Initializing default categories...
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 20:56:48 [main] INFO  com.galerija.config.DataInitializer - Default categories initialized successfully
2025-02-16 20:57:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 20:57:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@33bd3549
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@711cd6f9
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-02-16 20:57:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-02-16 20:57:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/search-history/save
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/search-history/save
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/search-history/save
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk1Mzg0ODcsImV4cCI6MTczOTYyNDg4N30.dBpoC4usGt2lZy1XtnSwNqLRSthzQCfYN0qvXBQKBchRdGBOInFxh-V2nveTgwYN
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk1Mzg0ODcsImV4cCI6MTczOTYyNDg4N30.dBpoC4usGt2lZy1XtnSwNqLRSthzQCfYN0qvXBQKBchRdGBOInFxh-V2nveTgwYN
2025-02-16 20:57:36 [http-nio-8080-exec-2] ERROR com.galerija.security.jwt.JwtUtils - JWT token is expired: JWT expired at 2025-02-15T13:08:07Z. Current time: 2025-02-16T18:57:36Z, a difference of 107369419 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Invalid JWT token
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 20:57:36 [http-nio-8080-exec-2] ERROR c.g.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 401
2025-02-16 20:57:36 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Content-Length, Date, Keep-Alive, Connection]
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/search-history/save
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/search-history/save
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: null
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 20:57:38 [http-nio-8080-exec-3] ERROR c.g.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 401
2025-02-16 20:57:38 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Content-Length, Date, Keep-Alive, Connection]
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: null
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 20:57:40 [http-nio-8080-exec-4] ERROR c.g.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 401
2025-02-16 20:57:40 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Content-Length, Date, Keep-Alive, Connection]
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: null
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 20:57:40 [http-nio-8080-exec-5] ERROR c.g.security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to access this resource
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 401
2025-02-16 20:57:40 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Content-Length, Date, Keep-Alive, Connection]
2025-02-16 21:06:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/signup
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signup
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signup
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-02-16 21:06:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#registerUser(SignupRequest)
2025-02-16 21:06:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SignupRequest(username=eligijus, email=test@test.com, password=123456)]
2025-02-16 21:06:01 [http-nio-8080-exec-9] DEBUG com.galerija.service.AuthService - Attempting to register new user: eligijus
2025-02-16 21:06:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:06:01 [http-nio-8080-exec-9] ERROR com.galerija.service.AuthService - Registration failed: Username eligijus is already taken
2025-02-16 21:06:01 [http-nio-8080-exec-9] ERROR com.galerija.service.AuthService - Registration failed for user eligijus: Error: Username is already taken!
java.lang.RuntimeException: Error: Username is already taken!
	at com.galerija.service.AuthService.registerUser(AuthService.java:68)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.galerija.service.AuthService$$SpringCGLIB$$0.registerUser(<generated>)
	at com.galerija.controller.AuthController.registerUser(AuthController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:261)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:189)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.galerija.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-02-16 21:06:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=Error: Username is already taken!)]
2025-02-16 21:06:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-02-16 21:06:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/signin
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:06:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/favorites?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/favorites?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1586398305 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1586398305 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:06 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@617044280 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:06 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@617044280 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:06 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:06 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:06 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/images/upload
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/upload
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/upload
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/upload
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/upload", parameters={multipart}
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@6c219778]
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:06:14 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1847758229 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1847758229 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:14 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:14 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@261268335 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@261268335 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:16 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:16 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:16 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:16 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1288779118 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1288779118 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:16 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:16 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:16 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:16 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1702936815 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1702936815 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:17 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:17 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:17 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:17 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:17 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@817098298 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@817098298 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:17 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:17 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:17 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@494122690 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@494122690 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:18 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1575728796 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1575728796 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:18 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:18 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1255403995 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1255403995 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:18 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1834749137 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1834749137 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:18 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:18 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1326699079 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1326699079 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@843472643 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@843472643 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1248893409 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1248893409 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1880992156 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1880992156 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2051983127 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2051983127 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1958501068 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1958501068 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2018716380 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2018716380 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@456199423 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@456199423 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1957357031 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1957357031 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@740369247 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@740369247 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2093028341 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2093028341 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1612123125 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1612123125 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:19 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@402118460 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@402118460 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1222338374 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1222338374 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1814421743 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1814421743 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@916976341 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@916976341 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@779861311 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@779861311 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1368579941 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1368579941 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:20 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:20 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1884967411 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1884967411 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:20 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@392628344 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@392628344 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2123460883 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2123460883 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2053087834 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2053087834 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1126045203 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1126045203 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1914455596 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1914455596 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@232156132 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@232156132 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@703160657 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@703160657 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@216387165 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@216387165 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1989086365 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1989086365 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:06:21 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:21 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:06:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:06:22 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:06:22 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:06:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@591401224 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@591401224 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:10:03 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:03 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:10:03 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:03 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzI3NjYsImV4cCI6MTczOTgxOTE2Nn0.L39q2CypkZDMQiKn77I1uNKZYWIxx5q5VpL1Bm9792DSpXEgijtTtw6SWe_Lygej
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@32971499 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@32971499 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:10:03 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:03 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:10:03 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:03 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@339875459 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@339875459 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:08 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:10:08 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:08 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@340767389 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@340767389 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:08 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:10:08 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:08 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/upload
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/upload
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/upload
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/upload", parameters={multipart}
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@2b1a2f6f]
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:10:19 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@704387312 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@704387312 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:10:19 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:10:19 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:10:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1162169207 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8] read-only
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1162169207 wrapping com.mysql.cj.jdbc.ConnectionImpl@ba884f8]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:11:05 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:11:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:11:05 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:11:05 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:11:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzMwMDgsImV4cCI6MTczOTgxOTQwOH0.n8Gpw3U-irQ1qemgrK1tynspW9GbgriuEUH_1dFCllCg0z4kb2Q30mwgbc5t-gBW
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@484962464 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc] read-only
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@484962464 wrapping com.mysql.cj.jdbc.ConnectionImpl@56d822dc]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:11:05 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:11:05 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:11:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:11:05 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:11:05 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:11:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:20:28 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 21:20:28 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 15220 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 21:20:28 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 21:20:28 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 21:20:28 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 21:20:28 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 21:20:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 21:20:28 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 21:20:29 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 21:20:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 7 JPA repository interfaces.
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 21:20:29 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@2121d1f9]
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 21:20:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 21:20:29 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 21:20:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 21:20:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 21:20:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 21:20:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1289 ms
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 21:20:29 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 21:20:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 21:20:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 21:20:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 21:20:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 21:20:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 21:20:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e51ec2e
2025-02-16 21:20:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 21:20:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 21:20:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@16cf7fd0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7bc2bb58)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e2c6fd6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7ff6804a)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@12aa519b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c5c20ed)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6113a26f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2aac8ad7)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a4a2090) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@778c2e7c)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@b70fa38) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@45c423b3)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e31d53b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68d8eb4f)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@64757d56) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4813d0)
2025-02-16 21:20:30 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@702096ef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5f0d8937)
2025-02-16 21:20:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 21:20:31 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 21:20:31 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:20:31 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 21:20:31 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:20:31 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 21:20:31 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_77c`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_77c`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_77c`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 21:20:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 21:20:31 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 21:20:31 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 21:20:31 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 21:20:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByUser
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByPrivacy
2025-02-16 21:20:31 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacy
2025-02-16 21:20:32 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 21:20:32 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 21:20:32 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 21:20:32 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:20:32 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:20:32 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:20:32 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:20:32 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed
2025-02-16 21:20:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:20:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-02-16 21:20:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-02-16 21:20:32 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-02-16 21:20:32 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-16 21:20:32 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:514)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.lang.RuntimeException: Could not postProcess org.springframework.security.config.annotation.web.builders.WebSecurity@5e9c6d8a of type class org.springframework.security.config.annotation.web.builders.WebSecurity
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.postProcess(AutowireBeanFactoryObjectPostProcessor.java:69)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:853)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	... 17 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospectorRequestTransformer': Cannot resolve reference to bean 'mvcHandlerMappingIntrospector' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:203)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1323)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:486)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.getIfUnique(DefaultListableBeanFactory.java:438)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.setApplicationContext(WebSecurity.java:397)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:112)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1765)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:411)
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.postProcess(AutowireBeanFactoryObjectPostProcessor.java:65)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
to {POST [/api/images/upload]}: There is already 'imageController' bean method
com.galerija.controller.ImageController#uploadImage(MultipartFile) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
to {POST [/api/images/upload]}: There is already 'imageController' bean method
com.galerija.controller.ImageController#uploadImage(MultipartFile) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:665)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1385)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:130)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:118)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 54 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
to {POST [/api/images/upload]}: There is already 'imageController' bean method
com.galerija.controller.ImageController#uploadImage(MultipartFile) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:671)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:486)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:79)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:233)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 67 common frames omitted
2025-02-16 21:24:49 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 21:24:49 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 35496 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 21:24:49 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 21:24:49 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 21:24:49 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 21:24:49 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 21:24:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 21:24:49 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 21:24:49 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 21:24:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 21:24:50 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@2121d1f9]
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 21:24:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 21:24:50 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 21:24:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 21:24:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 21:24:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 21:24:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1215 ms
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 21:24:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 21:24:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 21:24:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 21:24:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 21:24:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 21:24:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 21:24:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e51ec2e
2025-02-16 21:24:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 21:24:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 21:24:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@16cf7fd0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7bc2bb58)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e2c6fd6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7ff6804a)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@12aa519b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c5c20ed)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6113a26f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2aac8ad7)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a4a2090) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@778c2e7c)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@b70fa38) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@45c423b3)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e31d53b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68d8eb4f)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@64757d56) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4813d0)
2025-02-16 21:24:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@702096ef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5f0d8937)
2025-02-16 21:24:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 21:24:52 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 21:24:52 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:24:52 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 21:24:52 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:24:52 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 21:24:52 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_786`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_786`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_786`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 21:24:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 21:24:52 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 21:24:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByUser
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByPrivacy
2025-02-16 21:24:52 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacy
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 21:24:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 21:24:52 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 21:24:53 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 21:24:53 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:24:53 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:24:53 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewControllerHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'routerFunctionMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'messageConverters'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'stringHttpMessageConverter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'stringHttpMessageConverter' via factory method to bean named 'environment'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mappingJackson2HttpMessageConverter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mappingJackson2HttpMessageConverter' via factory method to bean named 'jacksonObjectMapper'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'resourceHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:24:53 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /api/images/uploads/**] in 'resourceHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultServletHandlerMapping'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'filterChain'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'filterChain' via factory method to bean named 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity'
2025-02-16 21:24:53 [main] INFO  c.g.security.WebSecurityConfig - Configuring security filter chain
2025-02-16 21:24:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ffd26d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dfc0fda, org.springframework.security.web.context.SecurityContextHolderFilter@3e6a55fb, org.springframework.security.web.header.HeaderWriterFilter@7f49fa1d, org.springframework.web.filter.CorsFilter@775c865f, org.springframework.security.web.authentication.logout.LogoutFilter@3acae925, com.galerija.security.jwt.AuthTokenFilter@598ff2b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aead7d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@605790e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5410bbdf, org.springframework.security.web.session.SessionManagementFilter@1036bb9f, org.springframework.security.web.access.ExceptionTranslationFilter@19158d56, org.springframework.security.web.access.intercept.AuthorizationFilter@5e4a9c16]
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'delegatingApplicationListener'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityFilterChain'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityExpressionHandler'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'privilegeEvaluator'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestDataValueProcessor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationMethodInterceptor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationMethodInterceptor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskExecutorBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskExecutorBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration' via constructor to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskExecutorBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultValidator'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'defaultValidator' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'error'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameViewResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conventionErrorViewResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorAttributes'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'basicErrorController'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'basicErrorController' via factory method to bean named 'errorAttributes'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'themeResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'flashMapManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcValidator'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPatternParser'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUrlPathHelper'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPathMatcher'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerAdapter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcValidator'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortCustomizer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration' via constructor to bean named 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableCustomizer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationTaskExecutor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'applicationTaskExecutor' via factory method to bean named 'taskExecutorBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2025-02-16 21:24:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerFunctionAdapter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUriComponentsContributor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'mvcConversionService'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'requestMappingHandlerAdapter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpRequestHandlerAdapter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleControllerHandlerAdapter'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerExceptionResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'handlerExceptionResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:24:53 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcViewResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcViewResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewNameTranslator'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultViewResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewResolver' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationAvailability'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari' via constructor to bean named 'dataSource'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'platformTransactionManagerCustomizers'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionExecutionListeners'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$PersistenceManagedTypesConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'lifecycleProcessor'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'lifecycleProcessor' via factory method to bean named 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.util.JpaMetamodelCacheCleanup'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'data-jpa.repository-aot-processor#0'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.ProjectingArgumentResolverRegistrar'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'offsetResolver'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration' via constructor to bean named 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'dataSource'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'namedParameterJdbcTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'namedParameterJdbcTemplate' via factory method to bean named 'jdbcTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcClient'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcClient' via factory method to bean named 'namedParameterJdbcTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskSchedulerBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskSchedulerBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration' via constructor to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskSchedulerBuilder'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTemplate'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionTemplate' via factory method to bean named 'transactionManager'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpMessageConvertersRestClientCustomizer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientSsl'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'restClientSsl' via factory method to bean named 'sslBundleRegistry'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientBuilderConfigurer'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration'
2025-02-16 21:24:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartResolver'
2025-02-16 21:24:53 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-02-16 21:24:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-02-16 21:24:53 [main] INFO  com.galerija.GalerijaApplication - Started GalerijaApplication in 4.612 seconds (process running for 4.893)
2025-02-16 21:24:53 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2061438969 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e51ec2e] read-only
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-02-16 21:24:53 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2061438969 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e51ec2e]
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:24:53 [main] INFO  com.galerija.config.DataInitializer - Initializing default categories...
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:24:53 [main] INFO  com.galerija.config.DataInitializer - Default categories initialized successfully
2025-02-16 21:24:57 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 21:24:57 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1fba15d7
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@30628ef9
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-02-16 21:24:57 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:24:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@729148381 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0] read-only
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@729148381 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:24:57 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:24:57 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:24:57 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:24:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1762491938 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0] read-only
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1762491938 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0]
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:24:57 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:24:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:24:58 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:24:58 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:24:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:25:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/upload/upload
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/upload/upload
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/upload/upload
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/upload/upload
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/upload/upload", parameters={multipart}
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@77aa4ec]
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:25:04 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1663221268 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e51ec2e] read-only
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1663221268 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e51ec2e]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:25:04 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:25:04 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:25:04 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/upload/upload
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/upload/upload
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/upload/upload
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/upload/upload", parameters={multipart}
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@35e9f0eb]
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:25:23 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1348170193 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0] read-only
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1348170193 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:25:28 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:25:28 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:25:28 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:25:28 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:25:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1216742709 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0] read-only
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzM4OTcsImV4cCI6MTczOTgyMDI5N30.RkZpuC01nQp1XSmKp5Df7fi5J6eTO15JxxmaBgts3ChRn3Ey4CVKGpVkBWOBkpKO
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1216742709 wrapping com.mysql.cj.jdbc.ConnectionImpl@5f0d43e0]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:25:28 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:25:28 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:25:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:25:28 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:25:28 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:25:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:04 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 21:28:04 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 7496 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 21:28:04 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 21:28:04 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 21:28:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 21:28:04 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 21:28:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:04 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 21:28:05 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@61a91c9b]
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 21:28:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 21:28:05 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 21:28:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 21:28:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 21:28:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 21:28:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1138 ms
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 21:28:05 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 21:28:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 21:28:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 21:28:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 21:28:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 21:28:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 21:28:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@18c820d2
2025-02-16 21:28:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 21:28:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 21:28:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4de91056) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2404abe2)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@16cf7fd0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7bc2bb58)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e2c6fd6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7ff6804a)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@12aa519b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7c5c20ed)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6113a26f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2aac8ad7)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a4a2090) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@778c2e7c)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@b70fa38) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@45c423b3)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e31d53b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68d8eb4f)
2025-02-16 21:28:05 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@64757d56) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4813d0)
2025-02-16 21:28:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 21:28:06 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 21:28:06 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:28:06 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 21:28:06 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:28:06 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 21:28:06 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_790`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_790`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_790`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 21:28:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:28:06 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 21:28:06 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 21:28:06 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 21:28:06 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 21:28:07 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 21:28:07 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByPrivacy
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacy
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:28:07 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:28:07 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewControllerHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'routerFunctionMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'messageConverters'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'stringHttpMessageConverter'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'stringHttpMessageConverter' via factory method to bean named 'environment'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mappingJackson2HttpMessageConverter'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mappingJackson2HttpMessageConverter' via factory method to bean named 'jacksonObjectMapper'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'resourceHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:28:07 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /api/images/uploads/**] in 'resourceHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultServletHandlerMapping'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'filterChain'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'filterChain' via factory method to bean named 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity'
2025-02-16 21:28:07 [main] INFO  c.g.security.WebSecurityConfig - Configuring security filter chain
2025-02-16 21:28:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e4a9c16, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@544ee437, org.springframework.security.web.context.SecurityContextHolderFilter@64a0a1c6, org.springframework.security.web.header.HeaderWriterFilter@19158d56, org.springframework.web.filter.CorsFilter@ffd26d1, org.springframework.security.web.authentication.logout.LogoutFilter@688c914e, com.galerija.security.jwt.AuthTokenFilter@5aa5b3af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e6a55fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b25ebea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7dfc0fda, org.springframework.security.web.session.SessionManagementFilter@2de57397, org.springframework.security.web.access.ExceptionTranslationFilter@219c32e3, org.springframework.security.web.access.intercept.AuthorizationFilter@92a584f]
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'delegatingApplicationListener'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityFilterChain'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityExpressionHandler'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'privilegeEvaluator'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestDataValueProcessor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationMethodInterceptor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationMethodInterceptor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskExecutorBuilder'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskExecutorBuilder'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration' via constructor to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskExecutorBuilder'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultValidator'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'defaultValidator' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'error'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameViewResolver'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conventionErrorViewResolver'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorAttributes'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'basicErrorController'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'basicErrorController' via factory method to bean named 'errorAttributes'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeResolver'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'themeResolver'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'flashMapManager'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcValidator'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPatternParser'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUrlPathHelper'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPathMatcher'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerAdapter'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcValidator'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortResolver'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortCustomizer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration' via constructor to bean named 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableResolver'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableCustomizer'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationTaskExecutor'
2025-02-16 21:28:07 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'applicationTaskExecutor' via factory method to bean named 'taskExecutorBuilder'
2025-02-16 21:28:07 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2025-02-16 21:28:07 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerFunctionAdapter'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUriComponentsContributor'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'mvcConversionService'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'requestMappingHandlerAdapter'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpRequestHandlerAdapter'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleControllerHandlerAdapter'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerExceptionResolver'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'handlerExceptionResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:28:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcViewResolver'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcViewResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewNameTranslator'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultViewResolver'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewResolver' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationAvailability'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari' via constructor to bean named 'dataSource'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'platformTransactionManagerCustomizers'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionExecutionListeners'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$PersistenceManagedTypesConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'lifecycleProcessor'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'lifecycleProcessor' via factory method to bean named 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.util.JpaMetamodelCacheCleanup'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'data-jpa.repository-aot-processor#0'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.ProjectingArgumentResolverRegistrar'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'offsetResolver'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration' via constructor to bean named 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcTemplate'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'dataSource'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'namedParameterJdbcTemplate'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'namedParameterJdbcTemplate' via factory method to bean named 'jdbcTemplate'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcClient'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcClient' via factory method to bean named 'namedParameterJdbcTemplate'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskSchedulerBuilder'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskSchedulerBuilder'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration' via constructor to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskSchedulerBuilder'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTemplate'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionTemplate' via factory method to bean named 'transactionManager'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpMessageConvertersRestClientCustomizer'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientSsl'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'restClientSsl' via factory method to bean named 'sslBundleRegistry'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientBuilderConfigurer'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration'
2025-02-16 21:28:08 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartResolver'
2025-02-16 21:28:08 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-02-16 21:28:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-02-16 21:28:08 [main] INFO  com.galerija.GalerijaApplication - Started GalerijaApplication in 4.357 seconds (process running for 4.605)
2025-02-16 21:28:08 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@960392157 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2] read-only
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-02-16 21:28:08 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@960392157 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2]
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:28:08 [main] INFO  com.galerija.config.DataInitializer - Initializing default categories...
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:28:08 [main] INFO  com.galerija.config.DataInitializer - Default categories initialized successfully
2025-02-16 21:28:18 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 21:28:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7c9a39cb
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3bc57af4
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-02-16 21:28:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1659135573 wrapping com.mysql.cj.jdbc.ConnectionImpl@19b45360] read-only
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1659135573 wrapping com.mysql.cj.jdbc.ConnectionImpl@19b45360]
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:18 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@178323454 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2] read-only
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:18 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@178323454 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2]
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:28:18 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:18 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:18 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/upload/upload
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/upload/upload
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/upload/upload
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/upload/upload", parameters={multipart}
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@6f84f96a]
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:28:26 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1488571215 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2] read-only
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1488571215 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:26 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:26 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@846675005 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2] read-only
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@846675005 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2]
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:28 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:28 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:28:28 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:28 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@907443009 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2] read-only
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@907443009 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:28 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:28 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:28:28 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:28 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1252906496 wrapping com.mysql.cj.jdbc.ConnectionImpl@19b45360] read-only
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1252906496 wrapping com.mysql.cj.jdbc.ConnectionImpl@19b45360]
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:30 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:28:30 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:30 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQwOTgsImV4cCI6MTczOTgyMDQ5OH0.korSdyGWuLKHsBUhps5l1iBfDdwpIIilIydnupxzyR91LVAr4dLD32Kbx9FDsoc1
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@678781083 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2] read-only
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@678781083 wrapping com.mysql.cj.jdbc.ConnectionImpl@18c820d2]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:28:30 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:30 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:28:30 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:28:30 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:28:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:39 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 21:32:39 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 2588 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 21:32:39 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 21:32:39 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 21:32:39 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 21:32:39 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 21:32:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 21:32:39 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 21:32:40 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 21:32:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 7 JPA repository interfaces.
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 21:32:40 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@6f044c58]
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 21:32:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 21:32:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 21:32:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 21:32:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 21:32:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 21:32:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1117 ms
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 21:32:40 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 21:32:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 21:32:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 21:32:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 21:32:41 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 21:32:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 21:32:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ee77baf
2025-02-16 21:32:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 21:32:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 21:32:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@702096ef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f0d8937)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@105dc04d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@504b8705)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@24a8e40d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@175f859e)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@69fe7090) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6501b105)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66ab924) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6df2af02)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@779228dc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1f7336b2)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4c030fe1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@347123dc)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@52433946) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5403431a)
2025-02-16 21:32:41 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@ab327c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3d798e76)
2025-02-16 21:32:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 21:32:41 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 21:32:41 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:32:42 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 21:32:42 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:32:42 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 21:32:42 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_79a`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_79a`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_79a`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 21:32:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 21:32:42 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 21:32:42 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByPrivacy
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacy
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserIdWithUser.count
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:32:42 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:32:42 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 21:32:42 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewControllerHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'routerFunctionMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'messageConverters'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'stringHttpMessageConverter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'stringHttpMessageConverter' via factory method to bean named 'environment'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mappingJackson2HttpMessageConverter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mappingJackson2HttpMessageConverter' via factory method to bean named 'jacksonObjectMapper'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'resourceHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:32:43 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /api/images/uploads/**] in 'resourceHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultServletHandlerMapping'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'filterChain'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'filterChain' via factory method to bean named 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity'
2025-02-16 21:32:43 [main] INFO  c.g.security.WebSecurityConfig - Configuring security filter chain
2025-02-16 21:32:43 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2dca3c72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fc4af25, org.springframework.security.web.context.SecurityContextHolderFilter@395065af, org.springframework.security.web.header.HeaderWriterFilter@249c96cf, org.springframework.web.filter.CorsFilter@66abb7d4, org.springframework.security.web.authentication.logout.LogoutFilter@2dd25088, com.galerija.security.jwt.AuthTokenFilter@6d2f910b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@304d6881, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9af2a00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@494f74cd, org.springframework.security.web.session.SessionManagementFilter@3c79071e, org.springframework.security.web.access.ExceptionTranslationFilter@33f17d3d, org.springframework.security.web.access.intercept.AuthorizationFilter@5cfcb55c]
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'delegatingApplicationListener'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityFilterChain'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityExpressionHandler'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'privilegeEvaluator'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestDataValueProcessor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationMethodInterceptor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationMethodInterceptor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskExecutorBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskExecutorBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration' via constructor to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskExecutorBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultValidator'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'defaultValidator' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'error'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameViewResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conventionErrorViewResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorAttributes'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'basicErrorController'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'basicErrorController' via factory method to bean named 'errorAttributes'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'themeResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'flashMapManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcValidator'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPatternParser'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUrlPathHelper'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPathMatcher'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerAdapter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcValidator'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortCustomizer'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration' via constructor to bean named 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableCustomizer'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationTaskExecutor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'applicationTaskExecutor' via factory method to bean named 'taskExecutorBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2025-02-16 21:32:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerFunctionAdapter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUriComponentsContributor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'mvcConversionService'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'requestMappingHandlerAdapter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpRequestHandlerAdapter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleControllerHandlerAdapter'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerExceptionResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'handlerExceptionResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:32:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcViewResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcViewResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewNameTranslator'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultViewResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewResolver' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationAvailability'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari' via constructor to bean named 'dataSource'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'platformTransactionManagerCustomizers'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionExecutionListeners'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$PersistenceManagedTypesConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'lifecycleProcessor'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'lifecycleProcessor' via factory method to bean named 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.util.JpaMetamodelCacheCleanup'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'data-jpa.repository-aot-processor#0'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.ProjectingArgumentResolverRegistrar'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'offsetResolver'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration' via constructor to bean named 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcTemplate'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'dataSource'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'namedParameterJdbcTemplate'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'namedParameterJdbcTemplate' via factory method to bean named 'jdbcTemplate'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcClient'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcClient' via factory method to bean named 'namedParameterJdbcTemplate'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskSchedulerBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskSchedulerBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration' via constructor to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskSchedulerBuilder'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTemplate'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionTemplate' via factory method to bean named 'transactionManager'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpMessageConvertersRestClientCustomizer'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientSsl'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'restClientSsl' via factory method to bean named 'sslBundleRegistry'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientBuilderConfigurer'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration'
2025-02-16 21:32:43 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartResolver'
2025-02-16 21:32:43 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-02-16 21:32:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-02-16 21:32:43 [main] INFO  com.galerija.GalerijaApplication - Started GalerijaApplication in 4.301 seconds (process running for 4.536)
2025-02-16 21:32:43 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1095128956 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-02-16 21:32:43 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1095128956 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:32:43 [main] INFO  com.galerija.config.DataInitializer - Initializing default categories...
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:32:43 [main] INFO  com.galerija.config.DataInitializer - Default categories initialized successfully
2025-02-16 21:32:49 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 21:32:49 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f1a5005
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@135ddb56
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-02-16 21:32:49 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:32:49 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@353719427 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@353719427 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@237565152 wrapping com.mysql.cj.jdbc.ConnectionImpl@406c3255] read-only
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:50 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@237565152 wrapping com.mysql.cj.jdbc.ConnectionImpl@406c3255]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@259944964 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:32:50 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:50 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@259944964 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:50 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1488571215 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1488571215 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:32:50 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:50 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@608323917 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@608323917 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:32:57 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:57 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:57 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1890333568 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1890333568 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:32:57 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:57 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@284632749 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@284632749 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:32:59 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:59 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1051700868 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1051700868 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:32:59 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:32:59 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:32:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/images/external
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, cam (truncated)...]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG com.galerija.service.ImageService - Saved external image with ID: 48
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:33:02 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:02 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, cam (truncated)...]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG com.galerija.service.ImageService - Image already exists with webformatURL: https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:33:03 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:03 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, cam (truncated)...]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG com.galerija.service.ImageService - Image already exists with webformatURL: https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:33:04 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:04 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:04 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, cam (truncated)...]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG com.galerija.service.ImageService - Image already exists with webformatURL: https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:33:05 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:05 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, retro, hobby, photo ca (truncated)...]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, retro, hobby, photo camera, film camera, film, lens, camera, camera, camera, camera, camera, film, previewURL=https://cdn.pixabay.com/photo/2019/02/09/18/41/camera-3985711_150.jpg, previewWidth=150, previewHeight=84, webformatURL=https://pixabay.com/get/g29e0bc6fc3bc7daf51771b3fc810384d1b8b262c29fda385f77cbf86480a72350b2b1b9fbd194c74b1b1eeab2fe89faadc7ff924adb557a5df29f9582f576eab_640.jpg, webformatWidth=640, webformatHeight=360, largeImageURL=https://pixabay.com/get/g0aa0b39818218b1e8a1b35d184ca49943487fddacedea46ee7562c825114cb6ba5c908986697e63f3348d80ffcd336328dc2a58dd96dab23a114801befe43491_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=6000, imageHeight=3375, imageSize=1266842, views=64645, downloads=47864, likes=137, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, retro, hobby, photo camera, film camera, film, lens, camera, camera, camera, camera, camera, film, previewURL=https://cdn.pixabay.com/photo/2019/02/09/18/41/camera-3985711_150.jpg, previewWidth=150, previewHeight=84, webformatURL=https://pixabay.com/get/g29e0bc6fc3bc7daf51771b3fc810384d1b8b262c29fda385f77cbf86480a72350b2b1b9fbd194c74b1b1eeab2fe89faadc7ff924adb557a5df29f9582f576eab_640.jpg, webformatWidth=640, webformatHeight=360, largeImageURL=https://pixabay.com/get/g0aa0b39818218b1e8a1b35d184ca49943487fddacedea46ee7562c825114cb6ba5c908986697e63f3348d80ffcd336328dc2a58dd96dab23a114801befe43491_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=6000, imageHeight=3375, imageSize=1266842, views=64645, downloads=47864, likes=137, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG com.galerija.service.ImageService - Saved external image with ID: 49
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:33:07 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:07 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@497148337 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@497148337 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:33:08 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:33:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:33:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:33:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:09 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:33:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1622018704 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1622018704 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:33:09 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:33:09 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:33:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1022993258 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1022993258 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:34:58 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:34:58 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:34:58 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQzNjksImV4cCI6MTczOTgyMDc2OX0.aGgLnLsMU0VFLCYL-Y75EVOsCCjLYJ2FFvlsCZ1uaVz-zPeeGmKyQL_7fgDBb-I_
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1173057288 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1173057288 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:34:58 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:34:58 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:34:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:39:47 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 21:39:47 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 20532 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 21:39:47 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 21:39:47 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 21:39:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 21:39:47 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 21:39:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 7 JPA repository interfaces.
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 21:39:47 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 21:39:48 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@6f044c58]
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 21:39:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 21:39:48 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 21:39:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 21:39:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 21:39:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 21:39:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1100 ms
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 21:39:48 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 21:39:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 21:39:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 21:39:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 21:39:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 21:39:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 21:39:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ee77baf
2025-02-16 21:39:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 21:39:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 21:39:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@702096ef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f0d8937)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@105dc04d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@504b8705)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@24a8e40d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@175f859e)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@69fe7090) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6501b105)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66ab924) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6df2af02)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@779228dc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1f7336b2)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4c030fe1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@347123dc)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@52433946) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5403431a)
2025-02-16 21:39:48 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@ab327c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3d798e76)
2025-02-16 21:39:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 21:39:49 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 21:39:49 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:39:49 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 21:39:49 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:39:49 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 21:39:49 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_7a4`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_7a4`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_7a4`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 21:39:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:39:49 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 21:39:49 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 21:39:49 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 21:39:49 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 21:39:49 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 21:39:49 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 21:39:50 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 21:39:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByPrivacy
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacy
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserIdWithUser.count
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:39:50 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:39:50 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewControllerHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'routerFunctionMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'messageConverters'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'stringHttpMessageConverter'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'stringHttpMessageConverter' via factory method to bean named 'environment'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mappingJackson2HttpMessageConverter'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mappingJackson2HttpMessageConverter' via factory method to bean named 'jacksonObjectMapper'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'resourceHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:39:50 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /api/images/uploads/**] in 'resourceHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultServletHandlerMapping'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'filterChain'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'filterChain' via factory method to bean named 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity'
2025-02-16 21:39:50 [main] INFO  c.g.security.WebSecurityConfig - Configuring security filter chain
2025-02-16 21:39:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@416dd4d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2dca3c72, org.springframework.security.web.context.SecurityContextHolderFilter@e73787, org.springframework.security.web.header.HeaderWriterFilter@8dba70a, org.springframework.web.filter.CorsFilter@5fc4af25, org.springframework.security.web.authentication.logout.LogoutFilter@5bee88e3, com.galerija.security.jwt.AuthTokenFilter@6d2f910b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4de5d46c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@304d6881, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66abb7d4, org.springframework.security.web.session.SessionManagementFilter@556d8c78, org.springframework.security.web.access.ExceptionTranslationFilter@6f3cf9ac, org.springframework.security.web.access.intercept.AuthorizationFilter@10ac5a14]
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'delegatingApplicationListener'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityFilterChain'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityExpressionHandler'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'privilegeEvaluator'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestDataValueProcessor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationMethodInterceptor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationMethodInterceptor'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskExecutorBuilder'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskExecutorBuilder'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration' via constructor to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskExecutorBuilder'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultValidator'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'defaultValidator' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'error'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameViewResolver'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conventionErrorViewResolver'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorAttributes'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'basicErrorController'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'basicErrorController' via factory method to bean named 'errorAttributes'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeResolver'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'themeResolver'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'flashMapManager'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcValidator'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPatternParser'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUrlPathHelper'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPathMatcher'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerAdapter'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:50 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcValidator'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortCustomizer'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration' via constructor to bean named 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableCustomizer'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationTaskExecutor'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'applicationTaskExecutor' via factory method to bean named 'taskExecutorBuilder'
2025-02-16 21:39:51 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2025-02-16 21:39:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerFunctionAdapter'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUriComponentsContributor'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'mvcConversionService'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'requestMappingHandlerAdapter'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpRequestHandlerAdapter'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleControllerHandlerAdapter'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerExceptionResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'handlerExceptionResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:39:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcViewResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcViewResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewNameTranslator'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultViewResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewResolver' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@388ba540'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationAvailability'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari' via constructor to bean named 'dataSource'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'platformTransactionManagerCustomizers'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionExecutionListeners'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$PersistenceManagedTypesConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'lifecycleProcessor'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'lifecycleProcessor' via factory method to bean named 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.util.JpaMetamodelCacheCleanup'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'data-jpa.repository-aot-processor#0'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.ProjectingArgumentResolverRegistrar'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'offsetResolver'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration' via constructor to bean named 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcTemplate'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'dataSource'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'namedParameterJdbcTemplate'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'namedParameterJdbcTemplate' via factory method to bean named 'jdbcTemplate'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcClient'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcClient' via factory method to bean named 'namedParameterJdbcTemplate'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskSchedulerBuilder'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskSchedulerBuilder'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration' via constructor to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskSchedulerBuilder'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTemplate'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionTemplate' via factory method to bean named 'transactionManager'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpMessageConvertersRestClientCustomizer'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientSsl'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'restClientSsl' via factory method to bean named 'sslBundleRegistry'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientBuilderConfigurer'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration'
2025-02-16 21:39:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartResolver'
2025-02-16 21:39:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-02-16 21:39:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-02-16 21:39:51 [main] INFO  com.galerija.GalerijaApplication - Started GalerijaApplication in 4.264 seconds (process running for 4.508)
2025-02-16 21:39:51 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1514744309 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-02-16 21:39:51 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1514744309 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:39:51 [main] INFO  com.galerija.config.DataInitializer - Initializing default categories...
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:39:51 [main] INFO  com.galerija.config.DataInitializer - Default categories initialized successfully
2025-02-16 21:40:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 21:40:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2936f48a
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@685783b1
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-02-16 21:40:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signup
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signup
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#registerUser(SignupRequest)
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SignupRequest(username=eligijus, email=test@test.com, password=123456)]
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Attempting to register new user: eligijus
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:40:11 [http-nio-8080-exec-1] ERROR com.galerija.service.AuthService - Registration failed: Username eligijus is already taken
2025-02-16 21:40:11 [http-nio-8080-exec-1] ERROR com.galerija.service.AuthService - Registration failed for user eligijus: Error: Username is already taken!
java.lang.RuntimeException: Error: Username is already taken!
	at com.galerija.service.AuthService.registerUser(AuthService.java:68)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.galerija.service.AuthService$$SpringCGLIB$$0.registerUser(<generated>)
	at com.galerija.controller.AuthController.registerUser(AuthController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:261)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:189)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.galerija.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=Error: Username is already taken!)]
2025-02-16 21:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signup
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signup
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#registerUser(SignupRequest)
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SignupRequest(username=eligijus, email=test@test.com, password=123456)]
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG com.galerija.service.AuthService - Attempting to register new user: eligijus
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:40:14 [http-nio-8080-exec-2] ERROR com.galerija.service.AuthService - Registration failed: Username eligijus is already taken
2025-02-16 21:40:14 [http-nio-8080-exec-2] ERROR com.galerija.service.AuthService - Registration failed for user eligijus: Error: Username is already taken!
java.lang.RuntimeException: Error: Username is already taken!
	at com.galerija.service.AuthService.registerUser(AuthService.java:68)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.galerija.service.AuthService$$SpringCGLIB$$0.registerUser(<generated>)
	at com.galerija.controller.AuthController.registerUser(AuthController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:261)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:189)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.galerija.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=Error: Username is already taken!)]
2025-02-16 21:40:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@455383006 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@455383006 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@792044734 wrapping com.mysql.cj.jdbc.ConnectionImpl@1bf37c90] read-only
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:16 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@792044734 wrapping com.mysql.cj.jdbc.ConnectionImpl@1bf37c90]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:40:16 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1692279792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:16 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1692279792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:16 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@220787560 wrapping com.mysql.cj.jdbc.ConnectionImpl@1bf37c90] read-only
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@220787560 wrapping com.mysql.cj.jdbc.ConnectionImpl@1bf37c90]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:40:16 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:16 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/upload/upload
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/upload/upload
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/upload/upload
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/upload/upload", parameters={multipart}
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@4a1b9143]
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:40:23 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1322063023 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1322063023 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:40:23 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:23 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@777507377 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@777507377 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:40:27 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:27 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:27 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@345314192 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@345314192 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:40:27 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:27 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfi (truncated)...]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfinder, winter, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2021/11/30/13/21/vintage-camera-6835351_150.jpg, previewWidth=150, previewHeight=102, webformatURL=https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg, webformatWidth=640, webformatHeight=437, largeImageURL=https://pixabay.com/get/g66a7711c79fc299982be25962f1b3a5773ff02297ca3b9ee326cb4813031209125ddb456dfc4c87f14362fecd1eee996f654774b36a2b8cb0a9771708cf2dcd6_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=5173, imageHeight=3531, imageSize=2055669, views=35760, downloads=27750, likes=100, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfinder, winter, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2021/11/30/13/21/vintage-camera-6835351_150.jpg, previewWidth=150, previewHeight=102, webformatURL=https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg, webformatWidth=640, webformatHeight=437, largeImageURL=https://pixabay.com/get/g66a7711c79fc299982be25962f1b3a5773ff02297ca3b9ee326cb4813031209125ddb456dfc4c87f14362fecd1eee996f654774b36a2b8cb0a9771708cf2dcd6_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=5173, imageHeight=3531, imageSize=2055669, views=35760, downloads=27750, likes=100, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG com.galerija.service.ImageService - Saved external image with ID: 51
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:40:31 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:31 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfi (truncated)...]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfinder, winter, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2021/11/30/13/21/vintage-camera-6835351_150.jpg, previewWidth=150, previewHeight=102, webformatURL=https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg, webformatWidth=640, webformatHeight=437, largeImageURL=https://pixabay.com/get/g66a7711c79fc299982be25962f1b3a5773ff02297ca3b9ee326cb4813031209125ddb456dfc4c87f14362fecd1eee996f654774b36a2b8cb0a9771708cf2dcd6_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=5173, imageHeight=3531, imageSize=2055669, views=35760, downloads=27750, likes=100, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfinder, winter, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2021/11/30/13/21/vintage-camera-6835351_150.jpg, previewWidth=150, previewHeight=102, webformatURL=https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg, webformatWidth=640, webformatHeight=437, largeImageURL=https://pixabay.com/get/g66a7711c79fc299982be25962f1b3a5773ff02297ca3b9ee326cb4813031209125ddb456dfc4c87f14362fecd1eee996f654774b36a2b8cb0a9771708cf2dcd6_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=5173, imageHeight=3531, imageSize=2055669, views=35760, downloads=27750, likes=100, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, createdAt=null, privacy=PRIVATE)
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG com.galerija.service.ImageService - Image already exists with webformatURL: https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:40:32 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:32 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:32 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@233249432 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf] read-only
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@233249432 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ee77baf]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:40:33 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:33 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzQ4MTYsImV4cCI6MTczOTgyMTIxNn0.DV_zbDeOsGgMOuXFkwQkG_wCoaU5Va1ei2A8Wc4iSVwFharavslGkM6DeFlECwur
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1669295155 wrapping com.mysql.cj.jdbc.ConnectionImpl@1bf37c90] read-only
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1669295155 wrapping com.mysql.cj.jdbc.ConnectionImpl@1bf37c90]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:40:33 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:40:33 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:40:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:43:51 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-02-16 21:43:51 [main] INFO  com.galerija.GalerijaApplication - Starting GalerijaApplication using Java 17.0.13 with PID 29924 (C:\Users\eligi\Desktop\bekendas\target\classes started by eligi in C:\Users\eligi\Desktop\bekendas)
2025-02-16 21:43:51 [main] DEBUG com.galerija.GalerijaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-02-16 21:43:51 [main] INFO  com.galerija.GalerijaApplication - No active profile set, falling back to 1 default profile: "default"
2025-02-16 21:43:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2025-02-16 21:43:51 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2025-02-16 21:43:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.galerija.
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CategoryRepository.class]
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\CommentRepository.class]
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\FavoriteRepository.class]
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\ImageRepository.class]
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\RoleRepository.class]
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\SearchHistoryRepository.class]
2025-02-16 21:43:52 [main] DEBUG o.s.d.r.c.RepositoryComponentProvider - Identified candidate component class: file [C:\Users\eligi\Desktop\bekendas\target\classes\com\galerija\repository\UserRepository.class]
2025-02-16 21:43:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 7 JPA repository interfaces.
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityHandlerMappingIntrospectorBeanDefinitionRegistryPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preserveErrorControllerTargetClassPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetailsHikariBeanPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'methodValidationPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'methodValidationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.methodValidationExcludeFilter'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webServerFactoryCustomizerBeanPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageRegistrarBeanPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'projectingArgumentResolverBeanPostProcessor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationAdvisor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationAdvisor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationAdvisor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationAdvisor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationAdvisor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionInterceptor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionAttributeSource'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.transaction.config.internalTransactionAdvisor' via factory method to bean named 'transactionInterceptor'
2025-02-16 21:43:52 [main] DEBUG o.s.u.c.s.UiApplicationContextUtils - Unable to locate ThemeSource with name 'themeSource': using default [org.springframework.ui.context.support.ResourceBundleThemeSource@49f40c00]
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactory'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'websocketServletWebServerCustomizer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration$TomcatWebSocketConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'servletWebServerFactoryCustomizer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.BoundConfigurationProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'servletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslBundleRegistry'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration' via constructor to bean named 'spring.ssl-org.springframework.boot.autoconfigure.ssl.SslProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sslPropertiesSslBundleRegistrar'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'fileWatcher'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'sslPropertiesSslBundleRegistrar' via factory method to bean named 'fileWatcher'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatServletWebServerFactoryCustomizer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatServletWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'tomcatWebServerFactoryCustomizer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration$TomcatWebServerFactoryCustomizerConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'environment'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'tomcatWebServerFactoryCustomizer' via factory method to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeCharsetMappingsCustomizer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorPageCustomizer'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration' via constructor to bean named 'server-org.springframework.boot.autoconfigure.web.ServerProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServletRegistration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dispatcherServlet'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServlet' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'dispatcherServlet'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dispatcherServletRegistration' via factory method to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartConfigElement'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration' via constructor to bean named 'spring.servlet.multipart-org.springframework.boot.autoconfigure.web.servlet.MultipartProperties'
2025-02-16 21:43:52 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'errorPageCustomizer' via factory method to bean named 'dispatcherServletRegistration'
2025-02-16 21:43:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-02-16 21:43:52 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-02-16 21:43:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-02-16 21:43:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-02-16 21:43:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-16 21:43:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1099 ms
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityFilterChainRegistration'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'securityFilterChainRegistration' via factory method to bean named 'spring.security-org.springframework.boot.autoconfigure.security.SecurityProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationJwtTokenFilter'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityConfig'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDetailsServiceImpl'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userRepository'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#2'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.UserRepository.fragments#0'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaSharedEM_entityManagerFactory'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactory'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcConnectionDetails'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcConnectionDetails' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'dataSource' via factory method to bean named 'jdbcConnectionDetails'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'dataSource'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration' via constructor to bean named 'spring.jpa.hibernate-org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hikariPoolDataSourceMetadataProvider'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration$HikariPoolDataSourceMetadataProviderConfiguration'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'entityManagerFactoryBuilder'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaVendorAdapter'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactoryBuilder' via factory method to bean named 'jpaVendorAdapter'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'persistenceManagedTypes'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'persistenceManagedTypes' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'entityManagerFactoryBuilder'
2025-02-16 21:43:53 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'entityManagerFactory' via factory method to bean named 'persistenceManagedTypes'
2025-02-16 21:43:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-16 21:43:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-02-16 21:43:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-02-16 21:43:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-16 21:43:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-02-16 21:43:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@699d96bc
2025-02-16 21:43:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-02-16 21:43:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-16 21:43:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c5c20ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6113a26f)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2aac8ad7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6a4a2090)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@778c2e7c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@b70fa38)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@45c423b3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7e31d53b)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68d8eb4f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@64757d56)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4813d0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@702096ef)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f0d8937) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@105dc04d)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@504b8705) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@24a8e40d)
2025-02-16 21:43:53 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@175f859e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@69fe7090)
2025-02-16 21:43:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-16 21:43:54 [main] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column id bigint not null auto_increment
2025-02-16 21:43:54 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       modify column id bigint not null auto_increment" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:43:54 [main] DEBUG org.hibernate.SQL - 
    alter table user_roles 
       modify column role_id bigint not null
2025-02-16 21:43:54 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       modify column role_id bigint not null" via JDBC [Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLException: Referencing column 'role_id' and referenced column 'id' in foreign key constraint 'user_roles_ibfk_2' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 132 common frames omitted
2025-02-16 21:43:54 [main] DEBUG org.hibernate.SQL - 
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)
2025-02-16 21:43:54 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_7ae`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table images 
       add constraint FK13ljqfrfwbyvnsdhihwta8cpr 
       foreign key (user_id) 
       references users (id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_7ae`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1684)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1418)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1164)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.galerija.GalerijaApplication.main(GalerijaApplication.java:11)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`galerija`.`#sql-1950_7ae`, CONSTRAINT `FK13ljqfrfwbyvnsdhihwta8cpr` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 131 common frames omitted
2025-02-16 21:43:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpaMappingContext'
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Initializing JpaMetamodelMappingContext
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean - Finished initializing JpaMetamodelMappingContext
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.UserRepository
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByUsername
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByUsername
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.findByEmail
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.findByEmail
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByUsername
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByUsername
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query UserEntity.existsByEmail
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query UserEntity.existsByEmail
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.UserRepository.
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authEntryPointJwt'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jwtUtils'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jwtUtils' via constructor to bean named 'userDetailsServiceImpl'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestContextFilter'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'formContentFilter'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'characterEncodingFilter'
2025-02-16 21:43:54 [main] DEBUG c.g.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'galerijaApplication'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataInitializer'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'roleRepository'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#5'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.RoleRepository.fragments#0'
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.RoleRepository
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Role.findByName
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Role.findByName
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.RoleRepository.
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryService'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryRepository'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#0'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CategoryRepository.fragments#0'
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CategoryRepository
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.existsByName
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.existsByName
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Category.findByName
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Category.findByName
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CategoryRepository.
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'passwordEncoder'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplateConfig'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webConfig'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authController'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authService'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManager'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'enableGlobalAuthenticationAutowiredConfigurer'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'enableGlobalAuthenticationAutowiredConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeUserDetailsBeanManagerConfigurer'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeUserDetailsBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'initializeAuthenticationProviderBeanManagerConfigurer'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'initializeAuthenticationProviderBeanManagerConfigurer' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'objectPostProcessor'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'objectPostProcessor' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManager' via factory method to bean named 'org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationManagerBuilder'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'objectPostProcessor'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationManagerBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationEventPublisher'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'authenticationEventPublisher' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'authenticationProvider'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'categoryController'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentController'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentService'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'commentRepository'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#3'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.CommentRepository.fragments#0'
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.CommentRepository
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByImage
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByImage
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Comment.findByUser
2025-02-16 21:43:54 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Comment.findByUser
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.CommentRepository.
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageRepository'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#4'
2025-02-16 21:43:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.ImageRepository.fragments#0'
2025-02-16 21:43:54 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.ImageRepository
2025-02-16 21:43:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.searchImages.count
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findUserFavorites.count
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByIdIn
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByIdIn
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUser.count
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Image.findByWebformatURL
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByWebformatURL
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByUserId.count
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Image.findByPrivacyOrUser.count
2025-02-16 21:43:55 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.ImageRepository.
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteController'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'favoriteRepository'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#6'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.FavoriteRepository.fragments#0'
2025-02-16 21:43:55 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.FavoriteRepository
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserIdWithUser.count
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUser
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUser
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.existsByUserAndImage
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.existsByUserAndImage
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.findByUserAndImage
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.findByUserAndImage
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query Favorite.deleteByUserAndImage
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query Favorite.deleteByUserAndImage
2025-02-16 21:43:55 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.FavoriteRepository.
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'securityUtils'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonObjectMapper'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'standardJacksonObjectMapperBuilderCustomizer' via factory method to bean named 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'parameterNamesModule'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModule'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonMixinConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonMixinModuleEntries'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModuleEntries' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jsonMixinModule' via factory method to bean named 'jsonMixinModuleEntries'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jsonComponentModule'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jacksonGeoModule'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageModule'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapperBuilder' via factory method to bean named 'standardJacksonObjectMapperBuilderCustomizer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jacksonObjectMapper' via factory method to bean named 'jacksonObjectMapperBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'imageRepository'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'userRepository'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'securityUtils'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'restTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageService' via constructor to bean named 'jacksonObjectMapper'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageController'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryRepository'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.named-queries#1'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jpa.SearchHistoryRepository.fragments#0'
2025-02-16 21:43:55 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Initializing repository instance for com.galerija.repository.SearchHistoryRepository
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.deleteByUser
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.deleteByUser
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Looking up named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:43:55 [main] DEBUG o.s.d.j.repository.query.NamedQuery - Did not find named query SearchHistory.findByUserOrderBySearchDateDesc
2025-02-16 21:43:55 [main] DEBUG o.s.d.r.c.s.RepositoryFactorySupport - Finished creation of repository instance for com.galerija.repository.SearchHistoryRepository.
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'imageUploadController'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'imageUploadController' via constructor to bean named 'imageService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'searchHistoryController'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcContentNegotiationManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'spring.mvc-org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter' via constructor to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.SpringDataWebConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.data.web.config.SpringDataWebConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospectorRequestTransformer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'welcomePageNotAcceptableHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewControllerHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewControllerHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'beanNameHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'routerFunctionMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'routerFunctionMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'messageConverters'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'stringHttpMessageConverter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'stringHttpMessageConverter' via factory method to bean named 'environment'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mappingJackson2HttpMessageConverter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mappingJackson2HttpMessageConverter' via factory method to bean named 'jacksonObjectMapper'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'resourceHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'resourceHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'
2025-02-16 21:43:55 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /api/images/uploads/**] in 'resourceHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultServletHandlerMapping'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'filterChain'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'filterChain' via factory method to bean named 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity'
2025-02-16 21:43:55 [main] INFO  c.g.security.WebSecurityConfig - Configuring security filter chain
2025-02-16 21:43:55 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7271ee48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30906ad3, org.springframework.security.web.context.SecurityContextHolderFilter@47b530e0, org.springframework.security.web.header.HeaderWriterFilter@3767973, org.springframework.web.filter.CorsFilter@10378c35, org.springframework.security.web.authentication.logout.LogoutFilter@6b0771e2, com.galerija.security.jwt.AuthTokenFilter@1529d534, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4260de0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@876686, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@480e8a7a, org.springframework.security.web.session.SessionManagementFilter@2f8b373f, org.springframework.security.web.access.ExceptionTranslationFilter@320f9b40, org.springframework.security.web.access.intercept.AuthorizationFilter@5bff7f13]
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'delegatingApplicationListener'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springSecurityFilterChain'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'webSecurityExpressionHandler'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'privilegeEvaluator'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestDataValueProcessor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preFilterAuthorizationMethodInterceptor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'preAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postAuthorizeAuthorizationMethodInterceptor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postAuthorizeAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'postFilterAuthorizationMethodInterceptor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'postFilterAuthorizationMethodInterceptor' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$ThreadPoolTaskExecutorBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskExecutorBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskExecutorBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskExecutorBuilder' via factory method to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$SimpleAsyncTaskExecutorBuilderConfiguration' via constructor to bean named 'spring.task.execution-org.springframework.boot.autoconfigure.task.TaskExecutionProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskExecutorBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutorConfigurations$TaskExecutorConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultValidator'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'defaultValidator' via factory method to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'error'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beanNameViewResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f316aeb'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$DefaultErrorViewResolverConfiguration' via constructor to bean named 'spring.web-org.springframework.boot.autoconfigure.web.WebProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conventionErrorViewResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'errorAttributes'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'basicErrorController'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'basicErrorController' via factory method to bean named 'errorAttributes'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'localeResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'themeResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'flashMapManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcValidator'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPatternParser'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUrlPathHelper'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcPathMatcher'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'requestMappingHandlerAdapter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'requestMappingHandlerAdapter' via factory method to bean named 'mvcValidator'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sortCustomizer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration' via constructor to bean named 'spring.data.web-org.springframework.boot.autoconfigure.data.web.SpringDataWebProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'pageableCustomizer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationTaskExecutor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'applicationTaskExecutor' via factory method to bean named 'taskExecutorBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2025-02-16 21:43:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerFunctionAdapter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcUriComponentsContributor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'mvcConversionService'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcUriComponentsContributor' via factory method to bean named 'requestMappingHandlerAdapter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpRequestHandlerAdapter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleControllerHandlerAdapter'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'handlerExceptionResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'handlerExceptionResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:43:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'mvcViewResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'mvcViewResolver' via factory method to bean named 'mvcContentNegotiationManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewNameTranslator'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'defaultViewResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'viewResolver' via factory method to bean named 'org.springframework.beans.factory.support.DefaultListableBeanFactory@64dafeed'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'viewResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration$AspectJAutoProxyingConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.aop.AopAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'applicationAvailability'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration$Hikari' via constructor to bean named 'dataSource'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceJmxConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.metadata.DataSourcePoolMetadataProvidersConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'platformTransactionManagerCustomizers'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionExecutionListeners'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.transaction-org.springframework.boot.autoconfigure.transaction.TransactionProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$PersistenceManagedTypesConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'lifecycleProcessor'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'lifecycleProcessor' via factory method to bean named 'spring.lifecycle-org.springframework.boot.autoconfigure.context.LifecycleProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.util.JpaMetamodelCacheCleanup'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'data-jpa.repository-aot-processor#0'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.data.web.config.ProjectingArgumentResolverRegistrar'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'offsetResolver'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration' via constructor to bean named 'spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'dataSource'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcTemplate' via factory method to bean named 'spring.jdbc-org.springframework.boot.autoconfigure.jdbc.JdbcProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.NamedParameterJdbcTemplateConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'namedParameterJdbcTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'namedParameterJdbcTemplate' via factory method to bean named 'jdbcTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jdbcClient'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'jdbcClient' via factory method to bean named 'namedParameterJdbcTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$ThreadPoolTaskSchedulerBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'threadPoolTaskSchedulerBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'threadPoolTaskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$TaskSchedulerBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'taskSchedulerBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'taskSchedulerBuilder' via factory method to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'org.springframework.boot.autoconfigure.task.TaskSchedulingConfigurations$SimpleAsyncTaskSchedulerBuilderConfiguration' via constructor to bean named 'spring.task.scheduling-org.springframework.boot.autoconfigure.task.TaskSchedulingProperties'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'simpleAsyncTaskSchedulerBuilder'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration$JdbcTransactionManagerConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration$CglibAutoProxyConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$TransactionTemplateConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTemplate'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'transactionTemplate' via factory method to bean named 'transactionManager'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'httpMessageConvertersRestClientCustomizer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientSsl'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'restClientSsl' via factory method to bean named 'sslBundleRegistry'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'restClientBuilderConfigurer'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration'
2025-02-16 21:43:55 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'multipartResolver'
2025-02-16 21:43:55 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-02-16 21:43:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-02-16 21:43:55 [main] INFO  com.galerija.GalerijaApplication - Started GalerijaApplication in 4.381 seconds (process running for 4.615)
2025-02-16 21:43:55 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1946047993 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:43:55 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-02-16 21:43:55 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1946047993 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:43:56 [main] INFO  com.galerija.config.DataInitializer - Initializing default categories...
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.name=? 
    limit
        ?
2025-02-16 21:43:56 [main] INFO  com.galerija.config.DataInitializer - Default categories initialized successfully
2025-02-16 21:44:01 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 21:44:01 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6c78ad08
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6771c4d8
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-02-16 21:44:01 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-02-16 21:44:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1457660729 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@627170640 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1457660729 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:02 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@627170640 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:02 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@462097062 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNDIsImV4cCI6MTczOTgyMTQ0Mn0.lqMICREqNe3b1hPo_XRDEtgVYraprNZ-mmVgRnHnXcuYLq1FJQ5Uc-O0Xf_fNPYW
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@462097062 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:44:02 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1301913435 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:02 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1301913435 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:44:02 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:02 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signup
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signup
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#registerUser(SignupRequest)
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SignupRequest(username=admin, email=demik@demix.com, password=admin123)]
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG com.galerija.service.AuthService - Attempting to register new user: admin
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:44:20 [http-nio-8080-exec-6] ERROR com.galerija.service.AuthService - Registration failed: Username admin is already taken
2025-02-16 21:44:20 [http-nio-8080-exec-6] ERROR com.galerija.service.AuthService - Registration failed for user admin: Error: Username is already taken!
java.lang.RuntimeException: Error: Username is already taken!
	at com.galerija.service.AuthService.registerUser(AuthService.java:68)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.galerija.service.AuthService$$SpringCGLIB$$0.registerUser(<generated>)
	at com.galerija.controller.AuthController.registerUser(AuthController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:261)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:189)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.galerija.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=Error: Username is already taken!)]
2025-02-16 21:44:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=eligijus, password=123456)]
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - User authenticated successfully: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - Generating JWT token for user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiO (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1292659820 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@335628014 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1292659820 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:33 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@335628014 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:44:33 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:33 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJlbGlnaWp1cyIsInJvbGVzIjoiW1JPTEVfVVNFUl0iLCJpYXQiOjE3Mzk3MzUwNzMsImV4cCI6MTczOTgyMTQ3M30.BBeUlzHQaXpMxKyXDp6ewP9pQbWjLrDtf954gE0L5-mp34FydE_Rdhcix59cyWU5
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1982518856 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 3
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: eligijus with 1 roles
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1982518856 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1940426004 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting user for username: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Current user: eligijus
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:33 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:33 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.id=?
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1940426004 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.galerija.entity.Favorite instances]
2025-02-16 21:44:33 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#4679220] - no Session]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=20
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?page=0&size=20", parameters={masked}
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:44:33 EET 2025, status=500, error=Internal Server Error, path=/api/favorite (truncated)...]
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:44:33 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signup
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signup
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#registerUser(SignupRequest)
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SignupRequest(username=code, email=admin@admin.com, password=123456)]
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG com.galerija.service.AuthService - Attempting to register new user: code
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.email=? 
    limit
        ?
2025-02-16 21:44:54 [http-nio-8080-exec-3] ERROR com.galerija.service.AuthService - Registration failed: Email admin@admin.com is already in use
2025-02-16 21:44:54 [http-nio-8080-exec-3] ERROR com.galerija.service.AuthService - Registration failed for user code: Error: Email is already in use!
java.lang.RuntimeException: Error: Email is already in use!
	at com.galerija.service.AuthService.registerUser(AuthService.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.galerija.service.AuthService$$SpringCGLIB$$0.registerUser(<generated>)
	at com.galerija.controller.AuthController.registerUser(AuthController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:261)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:189)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.galerija.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=Error: Email is already in use!)]
2025-02-16 21:44:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signup
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signup
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#registerUser(SignupRequest)
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SignupRequest(username=code, email=admin@a.com, password=123456)]
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - Attempting to register new user: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.username=? 
    limit
        ?
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id 
    from
        users ue1_0 
    where
        ue1_0.email=? 
    limit
        ?
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - Saving new user to database: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, last_login_at, password, username) 
    values
        (?, ?, ?, ?, ?)
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - User registered successfully: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - User authenticated successfully: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - Generating JWT token for user: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: code
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczO (truncated)...]
2025-02-16 21:45:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/auth/signin
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: null
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Skipping authentication for public endpoint: /api/auth/signin
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signin", parameters={}
2025-02-16 21:45:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.AuthController#authenticateUser(LoginRequest)
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=code, password=123456)]
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG com.galerija.service.AuthService - Attempting to authenticate user: code
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG com.galerija.service.AuthService - User authenticated successfully: code
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG com.galerija.service.AuthService - Generating JWT token for user: code
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG com.galerija.service.AuthService - JWT token generated successfully for user: code
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczO (truncated)...]
2025-02-16 21:45:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@596634950 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2039200449 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 6
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: code
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2039200449 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@596634950 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:09 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@519981942 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1998548206 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 6
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Getting user for username: code
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.galerija.service.FavoriteService - Current user: code
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@519981942 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1998548206 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:09 [http-nio-8080-exec-8] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:09 [http-nio-8080-exec-7] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/upload/upload
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/upload/upload
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/upload/upload
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/upload/upload", parameters={multipart}
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageUploadController#uploadImage(MultipartFile)
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageUploadController.uploadImage(org.springframework.web.multipart.MultipartFile); target is of class [com.galerija.controller.ImageUploadController]
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 6
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        images
        (comments, created_at, downloads, file_name, fullhd_url, image_height, image_size, image_url, image_width, large_image_url, likes, original_file_name, page_url, preview_height, preview_url, preview_width, privacy, tags, type, upload_date, user_id, views, webformat_height, webformat_url, webformat_width) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.galerija.entity.ImageDto@31999d9c]
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:18 [http-nio-8080-exec-9] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/images/user
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/images/user
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/images/user
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/images/user", parameters={}
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#getUserImages()
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1614890812 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 6
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.user_id=?
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1614890812 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.gal (truncated)...]
2025-02-16 21:45:18 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.galerija.entity.UserEntity.roles: could not initialize proxy - no Session]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:45:18 EET 2025, status=500, error=Internal Server Error, path=/api/images/u (truncated)...]
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:45:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@407526587 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Getting user for username: code
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.galerija.service.FavoriteService - Current user: code
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@407526587 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:29 [http-nio-8080-exec-1] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1933097893 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Getting user for username: code
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.galerija.service.FavoriteService - Current user: code
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1933097893 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:29 [http-nio-8080-exec-3] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfi (truncated)...]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfinder, winter, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2021/11/30/13/21/vintage-camera-6835351_150.jpg, previewWidth=150, previewHeight=102, webformatURL=https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg, webformatWidth=640, webformatHeight=437, largeImageURL=https://pixabay.com/get/g66a7711c79fc299982be25962f1b3a5773ff02297ca3b9ee326cb4813031209125ddb456dfc4c87f14362fecd1eee996f654774b36a2b8cb0a9771708cf2dcd6_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=5173, imageHeight=3531, imageSize=2055669, views=35760, downloads=27750, likes=100, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, privacy=PRIVATE, createdAt=null)
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=vintage camera, camera, viewfinder, winter, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2021/11/30/13/21/vintage-camera-6835351_150.jpg, previewWidth=150, previewHeight=102, webformatURL=https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg, webformatWidth=640, webformatHeight=437, largeImageURL=https://pixabay.com/get/g66a7711c79fc299982be25962f1b3a5773ff02297ca3b9ee326cb4813031209125ddb456dfc4c87f14362fecd1eee996f654774b36a2b8cb0a9771708cf2dcd6_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=5173, imageHeight=3531, imageSize=2055669, views=35760, downloads=27750, likes=100, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, privacy=PRIVATE, createdAt=null)
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 6
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG com.galerija.service.ImageService - Image already exists with webformatURL: https://pixabay.com/get/g0406b475701521421fe8ea5fe21128adb57960330c8bc3145f2be25489284bf9a872f11b5f58f48857c86c113048b842935f5ff3e5170222586f285ec9a4bbfb_640.jpg
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: could not initialize proxy [com.galerija.entity.UserEntit (truncated)...]
2025-02-16 21:45:32 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#3] - no Session]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:45:32 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:45:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/images/external
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: POST /api/images/external
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/images/external
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/images/external", parameters={}
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.ImageController#saveExternalImage(Image)
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, cam (truncated)...]
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.ImageController.saveExternalImage(com.galerija.entity.Image); target is of class [com.galerija.controller.ImageController]
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG c.g.controller.ImageController - Received external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, privacy=PRIVATE, createdAt=null)
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG com.galerija.service.ImageService - Saving external image: Image(id=null, pageURL=http://localhost:3000/search, type=photo, tags=camera, lens, photography, camera equipment, dslr, dslr camera, digital camera, technology, camera, camera, camera, camera, camera, previewURL=https://cdn.pixabay.com/photo/2014/08/29/14/53/camera-431119_150.jpg, previewWidth=150, previewHeight=99, webformatURL=https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg, webformatWidth=640, webformatHeight=426, largeImageURL=https://pixabay.com/get/g1f7c551931e0dcbc8d20b107851270cf57dc597bd329faf87796909ba6d0c76629a37f684ca50ce71073d19e87db43045d2d8f8bdf2d3b393449870665b5e09c_1280.jpg, fullHDURL=null, imageURL=null, imageWidth=4242, imageHeight=2828, imageSize=1856641, views=95363, downloads=60797, likes=171, comments=0, user=null, fileName=null, originalFileName=null, uploadDate=null, privacy=PRIVATE, createdAt=null)
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Current authentication: UsernamePasswordAuthenticationToken [Principal=com.galerija.security.services.UserDetailsImpl@25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Principal type: com.galerija.security.services.UserDetailsImpl
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG com.galerija.security.SecurityUtils - Found user ID from UserDetailsImpl: 6
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.id=?
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.id,
        i1_0.comments,
        i1_0.created_at,
        i1_0.downloads,
        i1_0.file_name,
        i1_0.fullhd_url,
        i1_0.image_height,
        i1_0.image_size,
        i1_0.image_url,
        i1_0.image_width,
        i1_0.large_image_url,
        i1_0.likes,
        i1_0.original_file_name,
        i1_0.page_url,
        i1_0.preview_height,
        i1_0.preview_url,
        i1_0.preview_width,
        i1_0.privacy,
        i1_0.tags,
        i1_0.type,
        i1_0.upload_date,
        i1_0.user_id,
        i1_0.views,
        i1_0.webformat_height,
        i1_0.webformat_url,
        i1_0.webformat_width 
    from
        images i1_0 
    where
        i1_0.webformat_url=?
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG com.galerija.service.ImageService - Image already exists with webformatURL: https://pixabay.com/get/g5e73960931d9bd3eb5b14c25a29cb07a0d526728b48fb01cb647d7e0f41625090dccd9cb961e77c82259ecac27bd8a98_640.jpg
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: could not initialize proxy [com.galerija.entity.UserEntit (truncated)...]
2025-02-16 21:45:34 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.galerija.entity.UserEntity#3] - no Session]
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 500
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options]
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Sun Feb 16 21:45:34 EET 2025, status=500, error=Internal Server Error, path=/api/images/e (truncated)...]
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-02-16 21:45:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1225620306 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee] read-only
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Getting user for username: code
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.galerija.service.FavoriteService - Current user: code
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1225620306 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c710bee]
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:35 [http-nio-8080-exec-5] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/favorites?page=0&size=20
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Processing request: GET /api/favorites
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Authorization header: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - JWT token: eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2RlIiwicm9sZXMiOiJbUk9MRV9VU0VSXSIsImlhdCI6MTczOTczNTEwOSwiZXhwIjoxNzM5ODIxNTA5fQ.354PTU69JsldyoaZWwOi6os_S28o0M1wT2hDG5DmKXGLzRJV4upmH7X10MTvewGb
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Valid JWT token for user: code
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - Loading user details for username: code
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.s.s.UserDetailsServiceImpl - User found: code with 1 roles
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Successfully set authentication in SecurityContext
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/favorites?page=0&size=20
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites?page=0&size=20", parameters={masked}
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.galerija.controller.FavoriteController#getUserFavorites(int, int)
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.galerija.controller.FavoriteController.getUserFavorites(int,int); target is of class [com.galerija.controller.FavoriteController]
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.controller.FavoriteController - Getting user favorites with page: 0 and size: 20
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2115431317 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc] read-only
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting favorites for page 0 with size 20
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Getting user for username: code
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.last_login_at,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.galerija.service.FavoriteService - Current user: code
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.image_id,
        f1_0.user_id,
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_login_at,
        u1_0.password,
        u1_0.username 
    from
        favorites f1_0 
    join
        users u1_0 
            on u1_0.id=f1_0.user_id 
    where
        u1_0.id=? 
    order by
        f1_0.created_at desc 
    limit
        ?, ?
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2115431317 wrapping com.mysql.cj.jdbc.ConnectionImpl@699d96bc]
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response status: 200
2025-02-16 21:45:35 [http-nio-8080-exec-6] DEBUG c.g.security.jwt.AuthTokenFilter - Response headers: [Vary, Vary, Vary, Access-Control-Allow-Origin, Access-Control-Expose-Headers, Access-Control-Allow-Credentials, X-Content-Type-Options, X-XSS-Protection, Cache-Control, Pragma, Expires, X-Frame-Options, Content-Type, Transfer-Encoding, Date, Keep-Alive, Connection]
